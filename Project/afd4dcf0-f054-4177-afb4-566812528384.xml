{"CLs":[{"__type":"LD","Var":"Enable"},{"__type":"IST","EID":"38542e57-424c-4eaf-8384-87f7a65abcd4","H":294.00000000000006,"Ix":1,"TXT":"EtherCAT.Status.MACAdrErr:=_EC_MacAdrErr;\u000d\u000aEtherCAT.Status.LanHwErr:=_EC_LanHwErr;\u000d\u000aEtherCAT.Status.LinkOffErr:=_EC_LinkOffErr;\u000d\u000aEtherCAT.Status.NetCfgErr:=_EC_NetCfgErr;\u000d\u000aEtherCAT.Status.NetCfgCmpErr:=_EC_NetCfgCmpErr;\u000d\u000aEtherCAT.Status.NetTopologyErr:=_EC_NetTopologyErr;\u000d\u000aEtherCAT.Status.PDCommErr:=_EC_PDCommErr;\u000d\u000aEtherCAT.Status.PDTimeOutErr:=_EC_PDTimeoutErr;\u000d\u000aEtherCAT.Status.PDsendErr:=_EC_PDSendErr;\u000d\u000aEtherCAT.Status.SlavAdrDupErr:=_EC_SlavAdrDupErr;\u000d\u000aEtherCAT.Status.SlavInitErr:=_EC_SlavInitErr;\u000d\u000aEtherCAT.Status.SlavAppErr:=_EC_SlavAppErr;\u000d\u000aEtherCAT.Status.MsgErr:=_EC_MsgErr;\u000d\u000aEtherCAT.Status.SlavEmergErr:=_EC_SlavEmergErr;\u000d\u000aEtherCAT.Status.InDataInvalidErr:=_EC_IndataInvalidErr;\u000d\u000a","W":732.80000000000007,"X":1}],"CMT":"Collect EtherCAT Hardware Status","LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Enable"},{"__type":"IST","EID":"562d00da-391f-460e-93ea-6f1fca24b847","H":171.60000000000002,"Ix":1,"TXT":"EtherCAT.Status.System.MasterDetection:=TestABit(_EC_ErrSta,15);\u000d\u000aEtherCAT.Status.System.SlaveSummary:=TestABit(_EC_ErrSta,14);\u000d\u000aEtherCAT.Status.System.MajorFault:=TestABit(_EC_ErrSta,7);\u000d\u000aEtherCAT.Status.System.PartialFault:=TestABit(_EC_ErrSta,6);\u000d\u000aEtherCAT.Status.System.MinorFault:=TestABit(_EC_ErrSta,5);\u000d\u000aEtherCAT.Status.System.Observation:=TestABit(_EC_ErrSta,4);","W":733.8000000000003,"X":1}],"CMT":"Collect EtherCAT System Status","LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Enable"},{"__type":"IST","EID":"0d689410-3727-43cf-bc66-460eba7faeed","H":145.2,"Ix":1,"TXT":"EtherCAT.Status.Port.MasterDetection:=TestABit(_EC_PortErr,15);\u000d\u000aEtherCAT.Status.Port.SlaveSummary:=TestABit(_EC_PortErr,14);\u000d\u000aEtherCAT.Status.Port.MajorFault:=TestABit(_EC_PortErr,7);\u000d\u000aEtherCAT.Status.Port.PartialFault:=TestABit(_EC_PortErr,6);\u000d\u000aEtherCAT.Status.Port.MinorFault:=TestABit(_EC_PortErr,5);\u000d\u000aEtherCAT.Status.Port.Observation:=TestABit(_EC_PortErr,4);\u000d\u000a","W":734,"X":1}],"CMT":"Collect EtherCAT Port Status","LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Enable"},{"__type":"IST","EID":"e787c446-a4f1-4ccf-8674-57053792e40e","H":150.80000000000007,"Ix":1,"TXT":"EtherCAT.Status.Master.MasterDetection:=TestABit(_EC_MstrErr,15);\u000d\u000aEtherCAT.Status.Master.SlaveSummary:=TestABit(_EC_MstrErr,14);\u000d\u000aEtherCAT.Status.Master.MajorFault:=TestABit(_EC_MstrErr,7);\u000d\u000aEtherCAT.Status.Master.PartialFault:=TestABit(_EC_MstrErr,6);\u000d\u000aEtherCAT.Status.Master.MinorFault:=TestABit(_EC_MstrErr,5);\u000d\u000aEtherCAT.Status.Master.Observation:=TestABit(_EC_MstrErr,4);\u000d\u000a","W":736.2,"X":1}],"CMT":"Collect EtherCAT Master Status","LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Enable"},{"__type":"IST","EID":"a8edfd55-db1b-49ce-9e67-dd44f3979151","H":146.79999999999996,"Ix":1,"TXT":"EtherCAT.Status.Slaves.MasterDetection:=TestABit(_EC_SlavErr,15);\u000d\u000aEtherCAT.Status.Slaves.SlaveSummary:=TestABit(_EC_SlavErr,14);\u000d\u000aEtherCAT.Status.Slaves.MajorFault:=TestABit(_EC_SlavErr,7);\u000d\u000aEtherCAT.Status.Slaves.PartialFault:=TestABit(_EC_SlavErr,6);\u000d\u000aEtherCAT.Status.Slaves.MinorFault:=TestABit(_EC_SlavErr,5);\u000d\u000aEtherCAT.Status.Slaves.Observation:=TestABit(_EC_SlavErr,4);\u000d\u000a","W":735.6,"X":1}],"CMT":"Collect EtherCAT Slaves Summary Status","LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Enable"},{"__type":"IST","EID":"d43724f5-4b51-49fa-ba22-e79fc564570c","H":497.59999999999997,"Ix":1,"TXT":"AvailableLastCycle:=Available;\u000d\u000aAvailable:=0;\u000d\u000aDisconnected:=0;\u000d\u000a\u000d\u000aFOR i:=1 TO 192 DO\u000d\u000a\u0009EtherCAT.Status.Slave[i].RegSlav :=_EC_RegSlavTbl[i];\u000d\u000a\u0009EtherCAT.Status.Slave[i].EntrySlav:=_EC_EntrySlavTbl[i];\u000d\u000a\u0009EtherCAT.Status.Slave[i].MBXSlav:=_EC_MBXSlavTbl[i];\u000d\u000a\u0009EtherCAT.Status.Slave[i].PDSlav:=_EC_PDSlavTbl[i];\u000d\u000a\u0009EtherCAT.Status.Slave[i].DisconnSlav:=_EC_DisconnSlavTbl[i];\u000d\u000a\u0009EtherCAT.Status.Slave[i].DisableSlav:=_EC_DisableSlavTbl[i];\u000d\u000a\u0009EtherCAT.Status.SlaveError[i].MajorFault:=TestABit(_EC_SlavErrTbl[i],7);\u000d\u000a\u0009EtherCAT.Status.SlaveError[i].PartialFault:=TestABit(_EC_SlavErrTbl[i],6);\u000d\u000a\u0009EtherCAT.Status.SlaveError[i].MinorFault:=TestABit(_EC_SlavErrTbl[i],5);\u000d\u000a\u0009EtherCAT.Status.SlaveError[i].Observation:=TestABit(_EC_SlavErrTbl[i],4);\u000d\u000a\u0009\u000d\u000a\u0009IF EtherCAT.Status.Slave[i].DisconnSlav=TRUE THEN Disconnected:=Disconnected+1; END_IF;\u000d\u000a\u0009IF EtherCAT.Status.Slave[i].EntrySlav=TRUE THEN Available:=Available+1; END_IF;\u000d\u000a\u0009\u000d\u000aEND_FOR;\u000d\u000a\u000d\u000aIF Error AND \u0009AvailableLastCycle<> Available THEN\u000d\u000a\u0009\u0009AvailableHasChanged:=TRUE;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000a","W":799.19999999999993,"X":1}],"CMT":"Collect EtherCAT Slave individual Status\u000d\u000aSet \"SlaveBackOnline\" when lost slave is back online","LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Enable"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"}],"Ix":10,"Name":"GetECError","Out":[{"__type":"PF","Arg":""},{"__type":"PRM","Arg":"Level","Ix":4,"Type":"UINT","Var":"ErrorLevel"},{"__type":"PRM","Arg":"Code","Ix":5,"Type":"DWORD","Var":"ErrorCode"}],"X":1},{"__type":"ST","Ix":3,"Var":"Error","X":2},{"__type":"LD","Ix":1,"Var":"Reset","X":1,"Y":1},{"__type":"LD","Ix":2,"Var":"TON_ResetDelay.Q","X":1,"Y":2},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"}],"Ix":9,"Name":"ResetECError","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":6,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":7,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":8,"Type":"WORD","Var":""}],"X":2,"Y":1,"Var":"ResetECError_FB"}],"CMT":"Get error Code\u000d\u000aReset Error","LRI":11,"RRI":12,"VLs":[{"Ix":13,"X":1},{"Ix":13,"X":1,"Y":1},{"Ix":14,"X":2,"Y":1}]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":2,"Type":"ANY","Var":"TIME#1s"}],"Ix":6,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":3,"Type":"ANY","Var":"TON_ResetDelay.PT"}]},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Type":"ANY_ELEMENTARY(except BOOL)","Var":"EtherCAT.CTRL.AutoResetDelay"},{"__type":"PRM","Arg":"In2","Ix":1,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"TIME#0s"}],"Ix":7,"Name":">","Out":[{"__type":"PF","Arg":""}],"X":1,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"EtherCAT.CTRL.AutoResetDelay"}],"Ix":8,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"TON_ResetDelay.PT"}],"X":2}],"CMT":"Set time from Structure or use 1s as default","LRI":9,"RRI":10,"VLs":[]}
{"CLs":[{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":2,"Type":"ANY","Var":"UINT#10"}],"Ix":6,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":3,"Type":"ANY","Var":"CTD_ResetCount.PV"}]},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Type":"ANY_ELEMENTARY(except BOOL)","Var":"EtherCAT.CTRL.AutoResetCount"},{"__type":"PRM","Arg":"In2","Ix":1,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"UINT#0"}],"Ix":7,"Name":">","Out":[{"__type":"PF","Arg":""}],"X":1,"PL":true},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":4,"Type":"ANY","Var":"EtherCAT.CTRL.AutoResetCount"}],"Ix":8,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":5,"Type":"ANY","Var":"CTD_ResetCount.PV"}],"X":2}],"CMT":"Set number of counts from Structure or use 10 as Default","LRI":9,"RRI":10,"VLs":[]}
{"CLs":[{"__type":"LD","Not":true,"Var":"Error"},{"__type":"FB","In":[{"__type":"PF","Arg":"In"},{"__type":"PRM","Arg":"PT","Ix":3,"Type":"TIME","Var":"TIME#5s"}],"Ix":5,"Name":"TON","Out":[{"__type":"PF","Arg":"Q"},{"__type":"PRM","Arg":"ET","Ix":4,"Type":"TIME","Var":""}],"X":1,"Var":"TON_ResetErrorCountDelay"},{"__type":"LD","Ix":1,"Var":"Reset","Y":1},{"__type":"HL","X":1,"Y":1},{"__type":"ST","Ix":2,"Var":"CTD_ResetCount.Load","X":2}],"CMT":"Reset Error counter for AutoReset","LRI":6,"RRI":7,"VLs":[{"Ix":8,"X":2}]}
{"CLs":[{"__type":"LD","Var":"TON_ResetDelay.Q"},{"__type":"FB","In":[{"__type":"PF","Arg":"CD","Up":true},{"__type":"PRM","Arg":"Load","Ix":2,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"PV","Ix":3,"Type":"INT","Var":""}],"Ix":5,"Name":"CTD","Out":[{"__type":"PF","Arg":"Q"},{"__type":"PRM","Arg":"CV","Ix":4,"Type":"INT","Var":""}],"X":1,"Var":"CTD_ResetCount"},{"__type":"ST","Ix":1,"Var":"AutoResetCountOut","X":2}],"CMT":"Count number of resets","LRI":6,"RRI":7,"VLs":[]}
{"CLs":[{"__type":"LD","Ix":2,"Var":"Enable"},{"__type":"LD","Var":"AutoReset","X":1},{"__type":"LD","Ix":3,"Var":"AvailableHasChanged","X":2},{"__type":"LD","Ix":4,"Not":true,"Var":"CTD_ResetCount.Q","X":3},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":6,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"ErrorLevel"},{"__type":"PRM","Arg":"In2","Ix":7,"Type":"ANY_ELEMENTARY(except BOOL)","Var":"UINT#0"}],"Ix":11,"Name":">","Out":[{"__type":"PF","Arg":""}],"X":4,"PL":true},{"__type":"LD","Ix":1,"Not":true,"Var":"ResetECError_FB.Busy","X":5},{"__type":"FB","In":[{"__type":"PF","Arg":"In"},{"__type":"PRM","Arg":"PT","Ix":8,"Type":"TIME","Var":""}],"Ix":10,"Name":"TON","Out":[{"__type":"PF","Arg":"Q"},{"__type":"PRM","Arg":"ET","Ix":9,"Type":"TIME","Var":""}],"X":6,"Var":"TON_ResetDelay"},{"__type":"ST","Ix":5,"RS":true,"Var":"AvailableHasChanged","X":7}],"CMT":"Delay for resetting Error","LRI":12,"RRI":13,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Enable"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"DisconnectSlave"},{"__type":"PRM","Arg":"In2","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"UINT#0"}],"Ix":8,"Name":"<>","Out":[{"__type":"PF","Arg":""}],"X":1},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"NodeAdr","Ix":3,"Type":"UINT","Var":"DisconnectSlave"}],"Ix":7,"Name":"EC_DisconnectSlave","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":4,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":5,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":6,"Type":"WORD","Var":""}],"X":2,"Var":"EC_DisconnectSlave_FB"}],"CMT":"Command to disconnect selected slave","LRI":9,"RRI":10,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"EtherCAT.Status.Slave[DisconnectSlave].DisconnSlav"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":1,"Type":"ANY","Var":"UINT#0"}],"Ix":3,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":2,"Type":"ANY","Var":"EtherCAT.CTRL.DisconnectSlave"}],"X":1}],"CMT":"Set selected disconnected slave variable=0","LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"LD","Not":true,"Var":"EtherCAT.Status.Slave[ReconnectSlave].DisconnSlav"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In","Ix":1,"Type":"ANY","Var":"UINT#0"}],"Ix":3,"Name":"MOVE","Out":[{"__type":"PF","Arg":"ENO"},{"__type":"PRM","Arg":"Out","Ix":2,"Type":"ANY","Var":"EtherCAT.CTRL.ReconnectSlave"}],"X":1}],"CMT":"Set selected reconnected slave variable=0","LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Enable"},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":1,"Type":"ANY_ELEMENTARY, ENUM","Var":"ReconnectSlave"},{"__type":"PRM","Arg":"In2","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"UINT#0"}],"Ix":8,"Name":"<>","Out":[{"__type":"PF","Arg":""}],"X":1},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"NodeAdr","Ix":3,"Type":"UINT","Var":"ReconnectSlave"}],"Ix":7,"Name":"EC_ConnectSlave","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":4,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":5,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":6,"Type":"WORD","Var":""}],"X":2,"Var":"EC_ConnectSlave_FB"}],"CMT":"Command to reconnect selected slave","LRI":9,"RRI":10,"VLs":[]}
{"CLs":[{"__type":"IST","EID":"fe72172c-2b84-4430-9f24-3baf306dbd57","H":130,"TXT":"EtherCAT.CTRLmon.AutoResetCountOut:=AutoResetCountOut;\u000d\u000aEtherCAT.CTRLmon.Available:=Available;\u000d\u000aEtherCAT.CTRLmon.Disconnected:=Disconnected;\u000d\u000aEtherCAT.CTRLmon.ErrorCode:=ErrorCode;\u000d\u000aEtherCAT.CTRLmon.ErrorLevel:=ErrorLevel;","W":400}],"LRI":1,"RRI":2,"VLs":[]}
